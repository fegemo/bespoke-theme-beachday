.layout-title.bespoke-slide
  text-align center
  display flex
  justify-content space-around
  h1
    color $big-title-color
  h2
    background-color $accent-color
    display block
    width 100%
    padding 2em 0
    margin 1em 0 0
    strong
      color darken($accent-color, 50%)

.layout-section-header.bespoke-slide
  display flex
  flex-direction column
  flex-wrap wrap
  &::before, &::after
    content " "
    position absolute
    top 0
    display block
    width 50%
    height 100%
    z-index -1
  &::before
    left 0
    background-color white
  &::after
    right 0
    background-color $accent-color
  .content
    display block
    box-sizing border-box
    p, li, dd, dt
      background-color white
    p
      display inline
      &::after
        content " "
        display block
        margin-bottom 0.5em
    &::after
      content " "
      display block
      width 3em
      height 1px
      border-bottom 3px solid white
    li
      display inline
      &::before
        content " "
        display list-item
        float left
      &::after
        content " "
        display block
  & > *
    width 50%
    padding 0 1em
  & > ul, & > ol
    padding-left 2em
  h1, h2
    margin 0
    padding 0
    text-align center
  h1
    height 70%
    box-sizing border-box
    padding-top 2em
  h2
    height 30%

regular-slide()
  display flex
  justify-content flex-start
  align-items flex-start
  padding 2em

.layout-regular.bespoke-slide
  regular-slide()
  h1, h2, h3, h4, h5, h6
    margin 0
    padding 0 0 0.5em
  // *:not(h1):not(h2)
  //   this is how to style anything but the titles

.layout-2-column-content.bespoke-slide
  regular-slide()
  flex-wrap wrap
  flex-direction row
  h1, h2, h3, h4, h5, h6
    flex-basis 100%
  & > * + *
    width 49%
    margin-left 1%
    margin-right 0
    &::last-child
      margin-left 0

.layout-centered.bespoke-slide
  display flex

.layout-main-point
  &.bespoke-slide
    background-color $emphatic-color
    h1, h2, h3, h4, h5, h6
      color white
  &.bespoke-parent
    background-color $emphatic-color


.layout-2-column-highlight-and-list
  regular-slide()
  flex-wrap wrap
  flex-direction row
  perspective 900px
  h1, h2, h3, h4, h5, h6
    flex-basis 100%
  // a figure/image/p à esquerda, em destaque
  & > *:nth-child(2)
    width 30%
    box-shadow 20px 20px 20px rgba(black, .2)
    transition all 500ms ease 400ms
    opacity .5
    transform scale(.75)
    transform-origin right
    margin-top 1em
    & > img
      max-width 100%
      max-height @max-width
  &.bespoke-active
    & > *:nth-child(2)
      transform rotateY(30deg) scale(1)
      opacity 1
  // o que estiver logo após a figure/image/p em destaque
  & > * + *
    width 60%
    margin-left 1%
    margin-right 0
    &::last-child
      margin-left 0

.layout-3-column-element-with-titles-expansible
  display flex
  flex-direction column
  flex-wrap wrap
  align-items flex-start
  & > *
    width calc(33% - 1rem)
  h1, h2, h3, h4, h5, h6
    margin auto 0
    &:not(:last-of-type)
      margin-right 1rem
  & > *:nth-child(2n)
    height calc(100% - 2.5em)
    margin 0
    transition all 100ms ease
    position relative
    &:not(:last-of-type)
      margin-right 1rem
    &:hover
      left 0
      width 100%
      z-index 1
    &:nth-of-type(2)
      transition-duration 50ms
      &:hover
        left -33%
    &:nth-of-type(3)
      transition none
      &:hover
        left -67%


$balloon-size = 200px
$balloon-radius = 180px
$image-size = 125px
.layout-circling-balloons
  h1, h2, h3, h4, h5, h6
    z-index 1

  // the ul occupies the whole slide
  & > ul
    position absolute
    left 0
    top 0
    width 100%
    height 100%
    margin 0

  // list items are the balloons
  & > ul > li
    position absolute
    width $balloon-size
    height @width
    left "calc(50% - %s)" % (@width/2)
    top "calc(50% - %s)" % (@height/2)
    padding 0
    margin 0
    border-radius 50%
    background gold
    overflow hidden
    list-style-type none
    transition all 250ms ease
    animation circling 36s linear 0s infinite

    for i in (1..3)
      &:nth-of-type({i})
        animation-delay "%ss" % (-(i - 1)*12)

    // first child of a li is a p that contains an img
    & > :first-child
      position absolute
      top 0
      right 0
      bottom 0
      left 0
      margin 0
      transition all 250ms ease

      img
        display block
        width $image-size
        height @width
        margin (($balloon-size - @height)/2) auto

    // second child of a li is a list (ul, ol, dl)
    & > :nth-child(2)
      margin-top $balloon-size
      padding 1em

    // when the li is hovered, it should expand
    &:hover
      width 26em
      height 10em
      top "calc(50% - %s)" % (@height/2)
      left "calc(50% - %s)" % (@width/2)
      border-radius 2em
      overflow visible
      z-index 2

      // the li's first child (p) should move to top
      & > :first-child
        transform translateY(-50%)

      // the list (ul, ol, dl) should have just a small margin top
      & > :nth-child(2)
        margin-top 1em

  // when the ul is hovered, the circling animation pauses
  & > ul:hover > li
    animation-play-state paused


@keyframes circling
  from
    transform rotate(0turn) translate($balloon-radius) rotate(0turn)
  to
    transform rotate(1turn) translate($balloon-radius) rotate(-1turn)

.layout-tall-figure-right,
.layout-tall-figure-left
  regular-slide()
  flex-wrap wrap
  flex-direction row
  h1, h2, h3, h4, h5, h6
    flex-basis 100%
  // a figure/image/p à direita
  & > :nth-child(2)
    flex-basis 30%
    & > img
      max-width 100%
      max-height @max-width
  & > :nth-child(3)
    flex-basis 70%

.layout-tall-figure-right
  & > :nth-child(2)
    order 2
  & > :nth-child(3)
    order 1

.layout-tall-figure-left
  & > :nth-child(2)
    order 1
  & > :nth-child(3)
    order 2
